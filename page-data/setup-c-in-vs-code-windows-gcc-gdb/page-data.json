{"componentChunkName":"component---node-modules-lekoarts-gatsby-theme-minimal-blog-core-src-templates-post-query-tsx","path":"/setup-c-in-vs-code-windows-gcc-gdb","result":{"data":{"post":{"__typename":"MdxPost","slug":"/setup-c-in-vs-code-windows-gcc-gdb","title":"Setup C++ in VSCode Windows- GCC + GDB","date":"18.10.2018","tags":[{"name":"Programming","slug":"programming"},{"name":"C++","slug":"c"},{"name":"editor","slug":"editor"},{"name":"vscode","slug":"vscode"},{"name":"mingw","slug":"mingw"},{"name":"gcc","slug":"gcc"},{"name":"gdb","slug":"gdb"}],"description":null,"canonicalUrl":null,"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Setup C++ in VSCode Windows- GCC + GDB\",\n  \"date\": \"2018-10-18T00:00:00.000Z\",\n  \"tags\": [\"Programming\", \"C++\", \"editor\", \"vscode\", \"mingw\", \"gcc\", \"gdb\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Why I am writings this\"), mdx(\"p\", null, \"I think a simple google search will show articles related to this but those were not helpful to me when i setup on my windows environment. Especially setting up the gdb debugger. Which throws the error file not found as here: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://github.com/Microsoft/vscode-cpptools/issues/1546#issuecomment-365368570\"\n  }), \"https://github.com/Microsoft/vscode-cpptools/issues/1546#issuecomment-365368570\"), \" and fixed it with \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"sourceFileMap\"), \" in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"launch.json\"), \".\"), mdx(\"p\", null, \"And also this post can be a good way to archive my vscode setup for windows.\"), mdx(\"h2\", null, \"Prepare for setup\"), mdx(\"p\", null, \"Below is the list of things to be installed before we start setting up vscode.\"), mdx(\"ol\", null, mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"MSYS2\"), mdx(\"li\", {\n    parentName: \"ol\"\n  }, \"GCC\")), mdx(\"p\", null, \"So why are these two packages used? Firstly MSYS2 is required to install GCC. Also GCC can be installed in many other ways using cygwin or mingw.\\nUsually other tutorials suggest using cygwin or mingw but MSYS2 provides the minimal linux subsystem and also comes with pacman to install packages. Since i use pacman on my linux distro i was quite comfortable using this and think that others will feel the same.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Get MSYS2 from here \", mdx(\"a\", _extends({\n    parentName: \"li\"\n  }, {\n    \"href\": \"https://www.msys2.org/\"\n  }), \"https://www.msys2.org/\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Setup MSYS2, install the packages as show in the instruction on the home page and also set any environment variables if mentioned.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Make sure the packages below are installed using pacman.\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {}), \"base-devel\\nmsys2-devel\\nmingw-w64-i686-toolchain\\nmingw-w64-x86_64-toolchain\\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"If you have installed \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"mingw-w64-i686-toolchain\"), \" or \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"mingw-w64-x86_64-toolchain\"), \" then gcc will be included in that package.\\nNow that the requird packages are installed lets set the various config files required to make use of \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"g++\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"gdb\"), \" in vscode.\")), mdx(\"h2\", null, \"Setup VSCode\"), mdx(\"p\", null, \"To setup vscode to work with C++ we need to make sure the standard include paths are set for intellisense.\\nBuild tasks is setup which uses g++ from the installed GCC package.\\nDebugger has to be setup in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"launch.json\"), \" file.\"), mdx(\"h3\", null, \"Setup include paths for intellisense\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"On installing GCC the standard header files are available in the directory \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"<MSYS2_DIR>/mingw64/include/c++/\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"These are to be setup in the \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"c_cpp_properties.json\"), \".\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"A default config can be generated using the command palette \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"CTRL + Shift + P\"), \" and selecting \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"C/Cpp: Select a configuration\"), \" by typing in the selection box.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The generated config is placed in \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \".vscode\"), \" folder in the roor directory.\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  \\\"configurations\\\": [\\n    {\\n      \\\"name\\\": \\\"Win32\\\",\\n      \\\"includePath\\\": [\\n        \\\"${workspaceFolder}/**\\\",\\n        \\\"C:/msys64/mingw64/include/c++/8.2.0\\\",\\n        \\\"C:/msys64/mingw64/include/c++/8.2.0/x86_64-w64-mingw32\\\",\\n        \\\"C:/msys64/mingw64/include/c++/8.2.0/backward\\\",\\n        \\\"C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/8.2.0/include\\\",\\n        \\\"C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/8.2.0/include-fixed\\\"\\n      ],\\n      \\\"browse\\\": {\\n        \\\"path\\\": [\\n          \\\"${workspaceFolder}/**\\\",\\n          \\\"C:/msys64/mingw64/include/c++/8.2.0\\\",\\n          \\\"C:/msys64/mingw64/include/c++/8.2.0/x86_64-w64-mingw32\\\",\\n          \\\"C:/msys64/mingw64/include/c++/8.2.0/backward\\\",\\n          \\\"C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/8.2.0/include\\\",\\n          \\\"C:/msys64/mingw64/lib/gcc/x86_64-w64-mingw32/8.2.0/include-fixed\\\"\\n        ]\\n      },\\n      \\\"defines\\\": [\\\"_DEBUG\\\", \\\"UNICODE\\\", \\\"_UNICODE\\\"],\\n      \\\"compilerPath\\\": \\\"C:/msys64/mingw64/bin/g++\\\",\\n      \\\"cStandard\\\": \\\"c11\\\",\\n      \\\"cppStandard\\\": \\\"c++17\\\",\\n      \\\"intelliSenseMode\\\": \\\"clang-x64\\\"\\n    }\\n  ],\\n  \\\"version\\\": 4\\n}\\n\")), mdx(\"h3\", null, \"Setup Build tasks\"), mdx(\"p\", null, \"Similar to the above scenario if there is no tasks.json generate one from the command palette by selecting \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Tasks: Configure Task\"), \".\\nAs per my use case i want to compile the current file active in the editor, to achieve this iam using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${file}\"), \" variable provided by vscode config variables.\\nAlso here \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"${filebasenameNoExtension}\"), \" is used to set the output for the compile file without any extension.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  // See https://go.microsoft.com/fwlink/?LinkId=733558\\n  // for the documentation about the tasks.json format\\n  \\\"version\\\": \\\"2.0.0\\\",\\n  \\\"tasks\\\": [\\n    {\\n      \\\"label\\\": \\\"Build Current File\\\",\\n      \\\"type\\\": \\\"shell\\\",\\n      \\\"command\\\": \\\"C:/msys64/mingw64/bin/g++\\\",\\n      \\\"args\\\": [\\n        // Ask msbuild to generate full paths for file names.\\n        \\\"-g\\\",\\n        \\\"-Wshadow\\\",\\n        \\\"-Wall\\\",\\n        \\\"-Wextra\\\",\\n        \\\"-std=c++17\\\",\\n        \\\"-o\\\",\\n        \\\"${fileBasenameNoExtension}\\\",\\n        \\\"'${file}'\\\"\\n      ],\\n      \\\"group\\\": \\\"build\\\",\\n      \\\"presentation\\\": {\\n        // Reveal the output only if unrecognized errors occur.\\n        \\\"reveal\\\": \\\"silent\\\"\\n      },\\n      // Use the standard MS compiler pattern to detect errors, warnings and infos\\n      \\\"problemMatcher\\\": {\\n        \\\"base\\\": \\\"$gcc\\\",\\n        \\\"fileLocation\\\": \\\"absolute\\\"\\n      }\\n    }\\n  ]\\n}\\n\")), mdx(\"h3\", null, \"Setup Debugger using gdb\"), mdx(\"p\", null, \"To setup debugger the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"program\"), \" and the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"miDebuggerPath\"), \" is the important values to configured properly.\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"It is set in such a way that the debugger gets the name of the compiled file of the current active tab in the editor.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Also here for some reason the path was set incorrectly so i had to use \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"sourceFileMap\"), \".\")), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-json\"\n  }), \"{\\n  // Use IntelliSense to learn about possible attributes.\\n  // Hover to view descriptions of existing attributes.\\n  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387\\n  \\\"version\\\": \\\"0.2.0\\\",\\n  \\\"configurations\\\": [\\n    {\\n      \\\"name\\\": \\\"(gdb) Launch\\\",\\n      \\\"type\\\": \\\"cppdbg\\\",\\n      \\\"request\\\": \\\"launch\\\",\\n      \\\"program\\\": \\\"${workspaceFolder}/${fileBasenameNoExtension}\\\",\\n      \\\"args\\\": [],\\n      \\\"stopAtEntry\\\": false,\\n      \\\"cwd\\\": \\\"${workspaceFolder}\\\",\\n      \\\"environment\\\": [],\\n      \\\"externalConsole\\\": true,\\n      \\\"MIMode\\\": \\\"gdb\\\",\\n      \\\"miDebuggerPath\\\": \\\"C:/msys64/usr/bin/gdb.exe\\\",\\n      \\\"setupCommands\\\": [\\n        {\\n          \\\"description\\\": \\\"Enable pretty-printing for gdb\\\",\\n          \\\"text\\\": \\\"-enable-pretty-printing\\\",\\n          \\\"ignoreFailures\\\": true\\n        }\\n      ],\\n      \\\"sourceFileMap\\\": {\\n        \\\"/g\\\": \\\"G:/\\\"\\n      }\\n    }\\n  ]\\n}\\n\")), mdx(\"h2\", null, \"How to use this setup\"), mdx(\"p\", null, \"The config for build and debug is configured in such a way that it uses the filename of the current active file in the editor.\\nSo when a build task is run the file to be compiled will be fetched from ${file} variable provided by vscode.\\nSimilarly for gdb the compiled files for current open file is fetched from ${fileBasenameNoExtension} since the -o flag was set with that in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"tasks.json\"), \".\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"To run the compile tasks open command palette and select \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Tasks: Run Task\"), \" and select the Build tasks or name given in the taks.json say \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"\\\"label\\\": \\\"Build Current File\\\"\"), \" in current setup.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"After build is finished successfully goto the debug section and run debug, but make sure the current active file is the one you want to debug.\")));\n}\n;\nMDXContent.isMDXComponent = true;","excerpt":"Why I am writings this I think a simple google search will show articles related to this but those were not helpful to me when i setup on my…","timeToRead":2,"banner":null}},"pageContext":{"slug":"/setup-c-in-vs-code-windows-gcc-gdb","formatString":"DD.MM.YYYY"}},"staticQueryHashes":["3090400250","3090400250","318001574","3325520806"]}